# 좋은 객체 지향 설계의 5가지 원칙 적용
여기서 SRP, DIP, OCP 적용

## SRP 단일 책임 원칙, 하나의 클래스는 하나의 책임만 가져야한다.
- 클라이언트 객체는 직접 구현 객체를 생성하고 연결하고 실행하는 다양한 책임을 가지고 있다.
- SRP 단일 책임 원칙을 따르면서 관심사를 분리한다.
- 구현 객체를 생성하고 연결하는 책임은 AppConfig가 담당함. 클라이언트 객체는 실행하는 책임만 담당한다.

## DIP 의존관걔 역전 원칙, 개발자는 추상화에 의존해야지, 구체화에 의존하면 안 된다.
- AppConfig가 FixDiscountPolicy 객체 인스턴스를 클라이언트 코드 대신 생성해서 의존관계를 주입했다.

## OCP 소프트웨어 요소는 확장에는 열려있어야하고, 변경에는 닫혀있어야한다.
- 다형성 사용하고 클라이언트가 DIP를 지킨다.
- 애플리케이션을 사용 영역과 구성 영역으로 나눈다.

# IoC, DI 그리고 컨테이너
## 제어의 역전 IoC Inversion of Control
- 기존 프로그램은 구현 객체가 서버 구현 객체를 생성하고, 연결하고, 실행했다.
- 반면 AppConfig가 등장한 후 구현 객체는 자신의 로직을 실행하는 역할만 담당한다. 프로그램의 제어 흐름은 AppConfig가 가져가는 것이다.
- 이렇게 프로그램의 제어 흐름을 직접 제어하는 것이 아닌 외부에서 관리하는 것을 제어의 역전이라고 한다.

## 프레임워크 vs 라이브러리
- 프레임워크가 내가 작성한 코드를 제어하고, 대신 실행하면 그것은 프레임워크이다.
- 반면 내가 작성한 코드가 직접 제어 흐름을 담당한다면 프레임워크가 아니라 라이브러리이다.

## 의존관계 주입 DI, Dependency Injection
- 의존관계는 정적인 클래스 의존 관계와, 실행 시점에 결정되는 동적인 객체(인스턴스) 의존관계 이 두개를 분리해서 생각해야한다.
1. 정적인 클래스 의존관계
정적인 의존관계는 애플리케이션을 실행하지 않아도 분석할 수 있다.
2. 동적인 객체 인스턴스 의존관계
애플리케이션 실행 시점에 실제 생성된 객체 인스턴스의 참조가 연결된 의존관계이다.
애플리케이션 런타임에 외부에서 실제 구현객체를 생성하고 클라이언트와 서버의 실제 의존관계가 연결되는 것을 의존관계 주입이라고 한다.

## IoC 컨테이너, DI 컨테이너
- AppConfig처럼 객체를 생성하고 관리하면서 의존관계를 연결해주는 것을 IoC 컨테이너, DI 컨테이너라고 한다.
- 의존관계 주입에 초점을 맞춰 주로 DI 컨테이너라고 함. 어셈블러, 오브젝트 팩토리 등으로 불리기도 한다.